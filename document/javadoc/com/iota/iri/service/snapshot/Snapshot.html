<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_201) on Fri Feb 21 16:49:00 CST 2020 -->
<title>Snapshot</title>
<meta name="date" content="2020-02-21">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Snapshot";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/iota/iri/service/snapshot/LocalSnapshotManager.html" title="interface in com.iota.iri.service.snapshot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/iota/iri/service/snapshot/SnapshotException.html" title="class in com.iota.iri.service.snapshot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/iota/iri/service/snapshot/Snapshot.html" target="_top">Frames</a></li>
<li><a href="Snapshot.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.iota.iri.service.snapshot</div>
<h2 title="Interface Snapshot" class="title">Interface Snapshot</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html" title="interface in com.iota.iri.service.snapshot">SnapshotMetaData</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html" title="interface in com.iota.iri.service.snapshot">SnapshotState</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../com/iota/iri/service/snapshot/impl/SnapshotImpl.html" title="class in com.iota.iri.service.snapshot.impl">SnapshotImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Snapshot</span>
extends <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html" title="interface in com.iota.iri.service.snapshot">SnapshotMetaData</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html" title="interface in com.iota.iri.service.snapshot">SnapshotState</a></pre>
<div class="block">Represents a complete Snapshot of the ledger state.

 The Snapshot is a container for the <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html" title="interface in com.iota.iri.service.snapshot"><code>SnapshotMetaData</code></a> and the <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html" title="interface in com.iota.iri.service.snapshot"><code>SnapshotState</code></a> and therefore fulfills
 both of these contracts while offering some additional utility methods to manipulate them.

 Important: Since we are only dealing with Snapshots outside of the snapshot package (the underlying meta data and
            state objects are not exposed via getters) this class takes care of making the exposed methods thread
            safe. The logic of the underlying objects is not thread-safe (for performance and simplicity reasons) but
            we don't need to worry about this since we do not have access to them.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#addSkippedMilestone-int-">addSkippedMilestone</a></span>(int&nbsp;skippedMilestoneIndex)</code>
<div class="block">This methods allows us to keep track when we skip a milestone when applying changes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#lockRead--">lockRead</a></span>()</code>
<div class="block">Locks the complete Snapshot object for read access.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#lockWrite--">lockWrite</a></span>()</code>
<div class="block">Locks the complete Snapshot object for write access.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#removeSkippedMilestone-int-">removeSkippedMilestone</a></span>(int&nbsp;skippedMilestoneIndex)</code>
<div class="block">This methods allows us to remove a milestone index from the internal list of skipped milestone indexes.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#unlockRead--">unlockRead</a></span>()</code>
<div class="block">Unlocks the complete Snapshot object from read blocks.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#unlockWrite--">unlockWrite</a></span>()</code>
<div class="block">Unlocks the complete Snapshot object from write blocks.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html#update-com.iota.iri.service.snapshot.Snapshot-">update</a></span>(<a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html" title="interface in com.iota.iri.service.snapshot">Snapshot</a>&nbsp;snapshot)</code>
<div class="block">Replaces the values of this instance with the values of another snapshot object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.iota.iri.service.snapshot.SnapshotMetaData">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.iota.iri.service.snapshot.<a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html" title="interface in com.iota.iri.service.snapshot">SnapshotMetaData</a></h3>
<code><a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getHash--">getHash</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getIndex--">getIndex</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getInitialHash--">getInitialHash</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getInitialIndex--">getInitialIndex</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getInitialTimestamp--">getInitialTimestamp</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getSeenMilestones--">getSeenMilestones</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getSolidEntryPointIndex-com.iota.iri.model.Hash-">getSolidEntryPointIndex</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getSolidEntryPoints--">getSolidEntryPoints</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#getTimestamp--">getTimestamp</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#hasSolidEntryPoint-com.iota.iri.model.Hash-">hasSolidEntryPoint</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setHash-com.iota.iri.model.Hash-">setHash</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setIndex-int-">setIndex</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setInitialHash-com.iota.iri.model.Hash-">setInitialHash</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setInitialIndex-int-">setInitialIndex</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setInitialTimestamp-long-">setInitialTimestamp</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setSeenMilestones-java.util.Map-">setSeenMilestones</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setSolidEntryPoints-java.util.Map-">setSolidEntryPoints</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#setTimestamp-long-">setTimestamp</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotMetaData.html#update-com.iota.iri.service.snapshot.SnapshotMetaData-">update</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.iota.iri.service.snapshot.SnapshotState">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.iota.iri.service.snapshot.<a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html" title="interface in com.iota.iri.service.snapshot">SnapshotState</a></h3>
<code><a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#applyStateDiff-com.iota.iri.service.snapshot.SnapshotStateDiff-">applyStateDiff</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#getBalance-com.iota.iri.model.Hash-">getBalance</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#getBalances--">getBalances</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#hasCorrectSupply--">hasCorrectSupply</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#isConsistent--">isConsistent</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#patchedState-com.iota.iri.service.snapshot.SnapshotStateDiff-">patchedState</a>, <a href="../../../../../com/iota/iri/service/snapshot/SnapshotState.html#update-com.iota.iri.service.snapshot.SnapshotState-">update</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lockRead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockRead</h4>
<pre>void&nbsp;lockRead()</pre>
<div class="block">Locks the complete Snapshot object for read access.

 This is used to synchronize the access from different Threads.</div>
</li>
</ul>
<a name="unlockRead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockRead</h4>
<pre>void&nbsp;unlockRead()</pre>
<div class="block">Unlocks the complete Snapshot object from read blocks.

 This is used to synchronize the access from different Threads.</div>
</li>
</ul>
<a name="lockWrite--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockWrite</h4>
<pre>void&nbsp;lockWrite()</pre>
<div class="block">Locks the complete Snapshot object for write access.

 This is used to synchronize the access from different Threads.</div>
</li>
</ul>
<a name="unlockWrite--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockWrite</h4>
<pre>void&nbsp;unlockWrite()</pre>
<div class="block">Unlocks the complete Snapshot object from write blocks.

 This is used to synchronize the access from different Threads.</div>
</li>
</ul>
<a name="addSkippedMilestone-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSkippedMilestone</h4>
<pre>boolean&nbsp;addSkippedMilestone(int&nbsp;skippedMilestoneIndex)</pre>
<div class="block">This methods allows us to keep track when we skip a milestone when applying changes.

 Since we can only rollback changes if we know which milestones have lead to the current state, we need to keep
 track of the milestones that were previously skipped.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>skippedMilestoneIndex</code> - index of the milestone that was skipped while applying the ledger state</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the index was added and false if it was already part of the set</dd>
</dl>
</li>
</ul>
<a name="removeSkippedMilestone-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSkippedMilestone</h4>
<pre>boolean&nbsp;removeSkippedMilestone(int&nbsp;skippedMilestoneIndex)</pre>
<div class="block">This methods allows us to remove a milestone index from the internal list of skipped milestone indexes.

 Since we can only rollback changes if we know which milestones have lead to the current state, we need to keep
 track of the milestones that were previously skipped.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>skippedMilestoneIndex</code> - index of the milestone that was skipped while applying the ledger state</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the skipped milestone was removed from the internal list and false if it was not present</dd>
</dl>
</li>
</ul>
<a name="update-com.iota.iri.service.snapshot.Snapshot-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(<a href="../../../../../com/iota/iri/service/snapshot/Snapshot.html" title="interface in com.iota.iri.service.snapshot">Snapshot</a>&nbsp;snapshot)</pre>
<div class="block">Replaces the values of this instance with the values of another snapshot object.

 This can for example be used to "reset" the snapshot after a failed modification attempt (while being able to
 keep the same instance).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>snapshot</code> - the new snapshot details that shall overwrite the current ones</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/iota/iri/service/snapshot/LocalSnapshotManager.html" title="interface in com.iota.iri.service.snapshot"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/iota/iri/service/snapshot/SnapshotException.html" title="class in com.iota.iri.service.snapshot"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/iota/iri/service/snapshot/Snapshot.html" target="_top">Frames</a></li>
<li><a href="Snapshot.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
